<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>P5 Drawing Basics: Animation Loop</title>
<link rel="stylesheet" href="lib/style.css">
</head>
<body>
<!-- Import the p5.js library -->
<script src="lib/p5.min.js"></script>
<script>

// global scope variable
let pos = 0;

function setup() {
  createCanvas(500, 500);
  // un-comment to stop animation
  // noLoop();
  angleMode(DEGREES);
  rectMode(CENTER);
}

function draw() {
  background(255); // Set background to white
  noStroke();

  // console log
  // open in Google Chrome:
  // - right click, inspect (CMD + OPT + J)
  console.log(
    // a built-in p5 variable 
    frameCount, 
    // a repeating series (0-9)
    frameCount % 10,
    // built-in sine function
    sin(frameCount)
  );

  // animate across the screen
  fill("blue");
  circle(frameCount, 100, 50);

  // animate across the screen, looping
  fill("red");
  circle(frameCount % width, 150, 50);

  // animate across the screen, looping with velocity
  const velocity = 1.5;
  fill("purple");
  circle((frameCount % width) * velocity, 200, 50);

  // animate using global scope variable
  fill("green");
  if (pos >= width) pos = 0;
  pos += velocity;
  circle(pos, 250, 50);

  // oscillate using a sine wave
  fill("orange");
  let pos2 = map(sin(frameCount/2), -1, 1, 0, width)
  circle(pos2, 300, 50);

  // oscillate transforms
  translate(250, 350)
  push();
    let angle = map(sin(frameCount), -1, 1, 0, 90);
    rotate(angle);
    fill("pink");
    square(0, 0, 50)
  pop();

}

</script>
</body>