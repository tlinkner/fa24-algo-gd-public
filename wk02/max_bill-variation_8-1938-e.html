<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Max Bill. Variation 8. 1938. Variation</title>
<link rel="stylesheet" href="lib/style.css">
</head>
<body>
<!-- Import the p5.js library -->
<script src="lib/p5.min.js"></script>
<script src="lib/dat.gui.min.js"></script>
<script>

/* 
 Same as max_bill-variation_8-1938-d.html, added GUI controls
 */

let config = {
    "velocity": 1,
    "rotation": 1,
    "shift_x":0,
    "shift_y":0,
    "scale":0.86,
};


function setup(){
    // create a canvas to draw on
    createCanvas(500, 500);
    angleMode(DEGREES);
    // gui widgets
    let gui = new dat.GUI();
    gui.add(config, "velocity", 0,10);
    gui.add(config, "rotation", 0,60);
    gui.add(config, "shift_x", -100,100);
    gui.add(config, "shift_y", -100,100);
    gui.add(config, "scale", 0.1,1);
}

function draw(){
    // define colors as variables
    let black = color(29, 24, 25)
    let purple = color(179, 98, 131);
    let orange = color(226, 126, 55);
    let blue = color(49, 64, 126);
    let green = color(175, 170, 85);
    let red = color(199, 49, 46);
    let yellow = color(239, 170, 53)

    // set the background color
    background(black);
    // remove stroke
    noStroke(); 

    // draw shapes
    translate(250, 250);
    // purple circle
    drawUnit(purple);
    // orange circle
    translate(config.shift_x, config.shift_y);
    scale(config.scale);
    drawUnit(orange);
    // blue circle
    translate(config.shift_x, config.shift_y);
    scale(config.scale);
    drawUnit(blue);
    // green circle
    translate(config.shift_x, config.shift_y);
    scale(config.scale);
    drawUnit(green);
    // red circle
    translate(config.shift_x, config.shift_y);
    scale(config.scale);
    drawUnit(red);
    // yellow circle
    translate(config.shift_x, config.shift_y);
    scale(config.scale);
    drawUnit(yellow);    
}

function drawUnit(color){
    // play with transformations and shapes
    rotate(config.rotation + (frameCount * config.velocity)/10);
    // play with the numbers, try other shapes
    fill(color);
    let size = 350;
    square(-size/2 + (sin(frameCount) * 30), -size/2, 350);
}

</script>
</body>